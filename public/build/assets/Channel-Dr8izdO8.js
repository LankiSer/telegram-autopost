import{f as d,o as n,a as l,u as i,g as v,w as u,b as e,t as o,h as c,F as x,l as m,S as g,e as h,n as b,c as _,W as C}from"./app-CgJ5-Tea.js";import{_ as j}from"./AppLayout-DXdb2ofa.js";const M={class:"flex justify-between items-center"},B={class:"text-xl font-semibold text-gray-800 dark:text-gray-200 leading-tight"},H={class:"py-6"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},L={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6 mb-6"},D={class:"flex items-center"},T={class:"w-12 h-12 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-lg font-bold mr-4"},N={class:"text-lg font-semibold text-gray-900 dark:text-white"},S={class:"flex items-center space-x-2 mt-1"},z={key:0,class:"text-sm text-blue-600 dark:text-blue-400"},$={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},A={key:2,class:"px-2 py-0.5 text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 rounded-full"},F={key:3,class:"px-2 py-0.5 text-xs bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300 rounded-full"},O={class:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg"},U={class:"border-b border-gray-200 dark:border-gray-700 p-6 bg-white dark:bg-gray-800"},W={key:0},E={class:"overflow-x-auto"},R={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},q={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},G={class:"px-6 py-4"},I={class:"px-6 py-4 whitespace-nowrap"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},K={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},P={class:"flex justify-end space-x-2"},Q=["onClick"],X={key:0,class:"mt-4"},Y={class:"flex flex-wrap justify-center"},Z={key:1,class:"text-center py-8"},ee={class:"mt-6"},se={__name:"Channel",props:{posts:Object,channel:Object},setup(a){function y(r){confirm("Вы уверены, что хотите удалить этот пост?")&&C.delete(route("posts.destroy",r))}function k(r,t){return r?r.length>t?r.substring(0,t)+"...":r:""}function w(r){return r?new Date(r).toLocaleDateString("ru-RU"):""}function p(r){return{draft:"Черновик",scheduled:"Запланирован",published:"Опубликован",failed:"Ошибка",pending:"В очереди"}[r]||r}return(r,t)=>(n(),d(x,null,[l(i(v),{title:`Посты канала: ${a.channel.name}`},null,8,["title"]),l(j,null,{header:u(()=>[e("div",M,[e("h2",B," Посты канала: "+o(a.channel.name),1),l(i(g),{href:r.route("posts.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:u(()=>t[0]||(t[0]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),h(" Создать пост ")])),_:1},8,["href"])])]),default:u(()=>[e("div",H,[e("div",V,[e("div",L,[e("div",D,[e("div",T,o(a.channel.name.charAt(0).toUpperCase()),1),e("div",null,[e("h3",N,o(a.channel.name),1),e("div",S,[a.channel.telegram_username?(n(),d("span",z," @"+o(a.channel.telegram_username),1)):c("",!0),a.channel.members_count?(n(),d("span",$," • "+o(a.channel.members_count)+" подписчиков ",1)):c("",!0),a.channel.bot_added?(n(),d("span",A," Бот подключен ")):(n(),d("span",F," Бот не подключен "))])])])]),e("div",O,[e("div",U,[a.posts.data&&a.posts.data.length>0?(n(),d("div",W,[e("div",E,[e("table",R,[t[3]||(t[3]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 bg-gray-50 dark:bg-gray-900 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Контент"),e("th",{class:"px-6 py-3 bg-gray-50 dark:bg-gray-900 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Статус"),e("th",{class:"px-6 py-3 bg-gray-50 dark:bg-gray-900 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Дата создания"),e("th",{class:"px-6 py-3 bg-gray-50 dark:bg-gray-900 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Действия")])],-1)),e("tbody",q,[(n(!0),d(x,null,m(a.posts.data,s=>(n(),d("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",G,[l(i(g),{href:r.route("posts.show",s.id),class:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300"},{default:u(()=>[h(o(k(s.content,50)),1)]),_:2},1032,["href"])]),e("td",I,[e("span",{class:b(["px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":s.status==="published","bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100":s.status==="scheduled","bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300":s.status==="draft","bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100":s.status==="failed"}])},o(p(s.status)),3)]),e("td",J,o(w(s.created_at)),1),e("td",K,[e("div",P,[l(i(g),{href:r.route("posts.edit",s.id),class:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"Редактировать"},{default:u(()=>t[1]||(t[1]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2},1032,["href"]),e("button",{onClick:f=>y(s.id),class:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Удалить"},t[2]||(t[2]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Q)])])]))),128))])])]),a.posts.links&&a.posts.links.length>3?(n(),d("div",X,[e("div",Y,[(n(!0),d(x,null,m(a.posts.links,(s,f)=>(n(),_(i(g),{key:f,href:s.url,class:b([{"bg-blue-500 text-white":s.active,"text-gray-700 dark:text-gray-300":!s.active},"mx-1 px-3 py-1 rounded text-sm"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):c("",!0)])):(n(),d("div",Z,[t[5]||(t[5]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[6]||(t[6]=e("h3",{class:"mt-2 text-lg font-medium text-gray-900 dark:text-gray-100"},"Постов не найдено",-1)),t[7]||(t[7]=e("p",{class:"mt-1 text-gray-500 dark:text-gray-400"},"Создайте новый пост для этого канала",-1)),e("div",ee,[l(i(g),{href:r.route("posts.create"),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800"},{default:u(()=>t[4]||(t[4]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),h(" Создать пост ")])),_:1},8,["href"])])]))])])])])]),_:1})],64))}};export{se as default};
