import{x as V,c as o,a as d,b as g,u as s,g as C,w as b,d as e,j as n,t as i,h as S,q as m,s as U,v as c,y as j,i as v,S as q,F as M}from"./app-OAsktpdo.js";import{_ as A}from"./AppLayout-CrSf5v8z.js";const B={class:"flex justify-between items-center"},N={class:"text-xl font-semibold text-gray-800 dark:text-gray-200 leading-tight"},T={class:"py-6"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},D={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},E={class:"mb-8 pb-6 border-b border-gray-200 dark:border-gray-700"},F={class:"flex items-center mb-4"},O={class:"w-12 h-12 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-lg font-bold mr-4"},H={class:"text-lg font-semibold text-gray-900 dark:text-white"},I={key:0,class:"text-sm text-blue-600 dark:text-blue-400"},P={key:0,class:"text-gray-600 dark:text-gray-300"},$={class:"flex items-center"},G={key:0,class:"space-y-6 mt-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg"},J={class:"flex items-center mt-1 space-x-2"},K={key:0,class:"text-red-500 text-sm mt-1"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q={key:0,class:"text-red-500 text-sm mt-1"},R={key:0,class:"text-red-500 text-sm mt-1"},W={key:0,class:"text-red-500 text-sm mt-1"},X={class:"flex items-center space-x-4 pt-4"},Y=["disabled"],Z={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},se={__name:"AutoPosting",props:{channel:Object,settings:Object},setup(l){var p,y,f;const x=l,u=x.settings||{},_=((p=u.posting_schedule)==null?void 0:p.start_time)||"09:00",k=((y=u.posting_schedule)==null?void 0:y.end_time)||"21:00",r=V({is_active:u.is_active||!1,interval_value:u.interval_value||24,interval_type:u.interval_type||"hours",schedule_start_time:_,schedule_end_time:k,prompt_template:u.prompt_template||"",schedule_days:((f=u.posting_schedule)==null?void 0:f.days)||[1,2,3,4,5,6,7]}),h=()=>{r.post(route("channels.auto-posting.update",x.channel.id))};return(w,t)=>(d(),o(M,null,[g(s(C),{title:"Настройки автопостинга"}),g(A,null,{header:b(()=>[e("div",B,[e("h2",N," Настройки автопостинга: "+i(l.channel.name),1)])]),default:b(()=>[e("div",T,[e("div",z,[e("div",D,[e("div",E,[e("div",F,[e("div",O,i(l.channel.name.charAt(0).toUpperCase()),1),e("div",null,[e("h3",H,i(l.channel.name),1),l.channel.telegram_username?(d(),o("p",I," @"+i(l.channel.telegram_username),1)):n("",!0)])]),l.channel.description?(d(),o("p",P,i(l.channel.description),1)):n("",!0)]),e("form",{onSubmit:S(h,["prevent"]),class:"space-y-6"},[e("div",null,[e("div",$,[m(e("input",{type:"checkbox",id:"is_active","onUpdate:modelValue":t[0]||(t[0]=a=>s(r).is_active=a),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded"},null,512),[[U,s(r).is_active]]),t[6]||(t[6]=e("label",{for:"is_active",class:"ml-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Включить автопостинг ",-1))]),t[7]||(t[7]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Если включено, система будет автоматически публиковать контент в этот канал с указанным интервалом ",-1))]),s(r).is_active?(d(),o("div",G,[e("div",null,[t[9]||(t[9]=e("label",{for:"interval_value",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Интервал публикации ",-1)),e("div",J,[m(e("input",{type:"number",id:"interval_value","onUpdate:modelValue":t[1]||(t[1]=a=>s(r).interval_value=a),min:"1",max:"168",class:"block w-1/3 rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[c,s(r).interval_value]]),m(e("select",{id:"interval_type","onUpdate:modelValue":t[2]||(t[2]=a=>s(r).interval_type=a),class:"block w-1/3 rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},t[8]||(t[8]=[e("option",{value:"minutes"},"Минуты",-1),e("option",{value:"hours"},"Часы",-1),e("option",{value:"days"},"Дни",-1),e("option",{value:"weeks"},"Недели",-1)]),512),[[j,s(r).interval_type]])]),t[10]||(t[10]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Определяет, как часто будут публиковаться новые посты ",-1)),s(r).errors.interval_value?(d(),o("div",K,i(s(r).errors.interval_value),1)):n("",!0)]),e("div",L,[e("div",null,[t[11]||(t[11]=e("label",{for:"schedule_start_time",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Время начала публикаций ",-1)),m(e("input",{type:"time",id:"schedule_start_time","onUpdate:modelValue":t[3]||(t[3]=a=>s(r).schedule_start_time=a),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[c,s(r).schedule_start_time]]),s(r).errors.schedule_start_time?(d(),o("div",Q,i(s(r).errors.schedule_start_time),1)):n("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{for:"schedule_end_time",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Время окончания публикаций ",-1)),m(e("input",{type:"time",id:"schedule_end_time","onUpdate:modelValue":t[4]||(t[4]=a=>s(r).schedule_end_time=a),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[c,s(r).schedule_end_time]]),t[13]||(t[13]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Публикации будут происходить только в указанный временной интервал ",-1)),s(r).errors.schedule_end_time?(d(),o("div",R,i(s(r).errors.schedule_end_time),1)):n("",!0)])])])):n("",!0),e("div",null,[t[14]||(t[14]=e("label",{for:"prompt_template",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Промпт для генерации контента ",-1)),m(e("textarea",{id:"prompt_template","onUpdate:modelValue":t[5]||(t[5]=a=>s(r).prompt_template=a),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Опишите, какой контент должен генерироваться для этого канала..."},null,512),[[c,s(r).prompt_template]]),t[15]||(t[15]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},' Используйте этот промпт для более точной настройки генерации контента. Например: "Новости о технологиях, фокус на AI и блокчейн" ',-1)),s(r).errors.prompt_template?(d(),o("div",W,i(s(r).errors.prompt_template),1)):n("",!0)]),e("div",X,[e("button",{type:"submit",class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150",disabled:s(r).processing},[s(r).processing?(d(),o("svg",Z,t[16]||(t[16]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):n("",!0),t[17]||(t[17]=v(" Сохранить настройки "))],8,Y),g(s(q),{href:w.route("channels.show",l.channel.id),class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-500 active:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:b(()=>t[18]||(t[18]=[v(" Отмена ")])),_:1},8,["href"])])],32)])])])]),_:1})],64))}};export{se as default};
