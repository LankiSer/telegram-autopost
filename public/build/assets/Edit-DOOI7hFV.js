import{x as f,f as a,o as l,a as g,u as r,g as k,w as p,b as t,d as _,h as d,j as i,m as u,t as m,p as v,e as b,S as w,F as h}from"./app-CgJ5-Tea.js";import{_ as V}from"./AppLayout-DXdb2ofa.js";const U={class:"py-6"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},T={key:0,class:"text-red-500 text-sm mt-1"},B={key:0,class:"text-red-500 text-sm mt-1"},D={key:0,class:"text-red-500 text-sm mt-1"},M={key:0},N={class:"mt-1 flex rounded-md shadow-sm"},j={key:0,class:"text-red-500 text-sm mt-1"},q={class:"mt-4"},z={key:0,class:"text-red-500 text-sm mt-1"},E={key:0,class:"text-red-500 text-sm mt-1"},F={class:"flex items-center space-x-4"},I=["disabled"],A={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},$={__name:"Edit",props:{channel:Object},setup(c){const n=c,s=f({name:n.channel.name,description:n.channel.description||"",type:n.channel.type||"telegram",telegram_username:n.channel.telegram_username||"",telegram_channel_id:n.channel.telegram_channel_id||"",content_prompt:n.channel.content_prompt||""}),x=()=>{s.put(route("channels.update",n.channel.id))};return(y,e)=>(l(),a(h,null,[g(r(k),{title:"Редактирование канала"}),g(V,null,{header:p(()=>e[6]||(e[6]=[t("div",{class:"flex justify-between items-center"},[t("h2",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200 leading-tight"}," Редактирование канала ")],-1)])),default:p(()=>[t("div",U,[t("div",C,[t("div",S,[t("form",{onSubmit:_(x,["prevent"]),class:"space-y-6"},[t("div",null,[e[7]||(e[7]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Название канала",-1)),i(t("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>r(s).name=o),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[u,r(s).name]]),r(s).errors.name?(l(),a("div",T,m(r(s).errors.name),1)):d("",!0)]),t("div",null,[e[8]||(e[8]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Описание",-1)),i(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=o=>r(s).description=o),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[u,r(s).description]]),r(s).errors.description?(l(),a("div",B,m(r(s).errors.description),1)):d("",!0)]),t("div",null,[e[10]||(e[10]=t("label",{for:"type",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Тип канала",-1)),i(t("select",{id:"type","onUpdate:modelValue":e[2]||(e[2]=o=>r(s).type=o),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},e[9]||(e[9]=[t("option",{value:"telegram"},"Telegram",-1),t("option",{value:"vk"},"ВКонтакте",-1)]),512),[[v,r(s).type]]),r(s).errors.type?(l(),a("div",D,m(r(s).errors.type),1)):d("",!0)]),r(s).type==="telegram"?(l(),a("div",M,[e[14]||(e[14]=t("label",{for:"telegram_username",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Имя пользователя Telegram канала",-1)),t("div",N,[e[11]||(e[11]=t("span",{class:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 bg-gray-50 text-gray-500"},"@",-1)),i(t("input",{type:"text",id:"telegram_username","onUpdate:modelValue":e[3]||(e[3]=o=>r(s).telegram_username=o),class:"flex-1 block w-full rounded-none rounded-r-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 focus:ring-blue-500",placeholder:"имя_канала"},null,512),[[u,r(s).telegram_username]])]),r(s).errors.telegram_username?(l(),a("div",j,m(r(s).errors.telegram_username),1)):d("",!0),t("div",q,[e[12]||(e[12]=t("label",{for:"telegram_channel_id",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"ID канала в Telegram (опционально)",-1)),i(t("input",{type:"text",id:"telegram_channel_id","onUpdate:modelValue":e[4]||(e[4]=o=>r(s).telegram_channel_id=o),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"-100123456789"},null,512),[[u,r(s).telegram_channel_id]]),e[13]||(e[13]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Оставьте пустым, если не знаете ID канала",-1)),r(s).errors.telegram_channel_id?(l(),a("div",z,m(r(s).errors.telegram_channel_id),1)):d("",!0)])])):d("",!0),t("div",null,[e[15]||(e[15]=t("label",{for:"content_prompt",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Промпт для генерации контента",-1)),i(t("textarea",{id:"content_prompt","onUpdate:modelValue":e[5]||(e[5]=o=>r(s).content_prompt=o),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Опишите, какой контент должен генерироваться для этого канала..."},null,512),[[u,r(s).content_prompt]]),r(s).errors.content_prompt?(l(),a("div",E,m(r(s).errors.content_prompt),1)):d("",!0)]),t("div",F,[t("button",{type:"submit",class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150",disabled:r(s).processing},[r(s).processing?(l(),a("svg",A,e[16]||(e[16]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):d("",!0),e[17]||(e[17]=b(" Сохранить "))],8,I),g(r(w),{href:y.route("channels.index"),class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-500 active:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:p(()=>e[18]||(e[18]=[b(" Отмена ")])),_:1},8,["href"])])],32)])])])]),_:1})],64))}};export{$ as default};
