import{m as C,f as B,a as i,b as r,w as n,q as p,d as s,T as y,H as g,n as k,c as u,j as w,l as c,J as V,r as v,x as D,i as x,K as S,u as d,L as T}from"./app-OAsktpdo.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as U,a as j,b as M}from"./TextInput-C1SExuhJ.js";import{_ as N}from"./SecondaryButton-BaoNfP6g.js";const W=C({props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},hideHeader:{type:Boolean,default:!1}},emits:["close"],watch:{show:{immediate:!0,handler:function(e){e?document.body.style.overflow="hidden":document.body.style.overflow=null}}},computed:{maxWidthClass(){return{sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl","3xl":"sm:max-w-3xl","4xl":"sm:max-w-4xl","5xl":"sm:max-w-5xl","6xl":"sm:max-w-6xl","7xl":"sm:max-w-7xl"}[this.maxWidth]}},methods:{close(){this.closeable&&this.$emit("close")}}}),E={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50","scroll-region":""},H={key:0,class:"px-6 py-4 border-b border-gray-200"},K={class:"flex items-center justify-between"},z={class:"text-lg font-medium text-gray-900"};function F(e,a,m,o,b,f){return i(),B(V,{to:"body"},[r(y,{"leave-active-class":"duration-200"},{default:n(()=>[p(s("div",E,[r(y,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:n(()=>[p(s("div",{class:"fixed inset-0 transform transition-all",onClick:a[0]||(a[0]=(...l)=>e.close&&e.close(...l))},a[2]||(a[2]=[s("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1)]),512),[[g,e.show]])]),_:1}),r(y,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:n(()=>[p(s("div",{class:k(["mb-6 bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto",e.maxWidthClass])},[e.hideHeader?w("",!0):(i(),u("div",H,[s("div",K,[c(e.$slots,"header",{},()=>[s("h3",z,[c(e.$slots,"title")])]),e.closeable?(i(),u("button",{key:0,type:"button",class:"text-gray-400 hover:text-gray-500",onClick:a[1]||(a[1]=(...l)=>e.close&&e.close(...l))},a[3]||(a[3]=[s("span",{class:"sr-only"},"Close",-1),s("svg",{class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):w("",!0)])])),c(e.$slots,"default")],2),[[g,e.show]])]),_:3})],512),[[g,e.show]])]),_:3})])}const I=_(W,[["render",F]]),L={},q={class:"inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700"};function J(e,a){return i(),u("button",q,[c(e.$slots,"default")])}const h=_(L,[["render",J]]),A={class:"space-y-6"},G={class:"p-6 bg-white dark:bg-gray-800"},O={class:"mt-6"},P={class:"mt-6 flex justify-end"},ee={__name:"DeleteUserForm",setup(e){const a=v(!1),m=v(null),o=D({password:""}),b=()=>{a.value=!0,T(()=>m.value.focus())},f=()=>{o.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>l(),onError:()=>m.value.focus(),onFinish:()=>o.reset()})},l=()=>{a.value=!1,o.clearErrors(),o.reset()};return(Q,t)=>(i(),u("section",A,[t[6]||(t[6]=s("header",null,[s("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Удаление аккаунта "),s("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," После удаления вашего аккаунта все его ресурсы и данные будут удалены безвозвратно. Перед удалением загрузите данные или информацию, которую хотите сохранить. ")],-1)),r(h,{onClick:b,class:"bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-600"},{default:n(()=>t[1]||(t[1]=[x("Удалить аккаунт")])),_:1}),r(I,{show:a.value,onClose:l},{default:n(()=>[s("div",G,[t[4]||(t[4]=s("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Вы уверены, что хотите удалить свой аккаунт? ",-1)),t[5]||(t[5]=s("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," После удаления вашего аккаунта все его ресурсы и данные будут удалены безвозвратно. Пожалуйста, введите свой пароль для подтверждения того, что вы хотите навсегда удалить свой аккаунт. ",-1)),s("div",O,[r(U,{for:"password",value:"Пароль",class:"sr-only"}),r(j,{id:"password",ref_key:"passwordInput",ref:m,modelValue:d(o).password,"onUpdate:modelValue":t[0]||(t[0]=$=>d(o).password=$),type:"password",class:"mt-1 block w-3/4 border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm",placeholder:"Пароль",onKeyup:S(f,["enter"])},null,8,["modelValue"]),r(M,{message:d(o).errors.password,class:"mt-2"},null,8,["message"])]),s("div",P,[r(N,{onClick:l,class:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"},{default:n(()=>t[2]||(t[2]=[x(" Отмена ")])),_:1}),r(h,{class:k(["ms-3 bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-600",{"opacity-25":d(o).processing}]),disabled:d(o).processing,onClick:f},{default:n(()=>t[3]||(t[3]=[x(" Удалить аккаунт ")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]))}};export{ee as default};
