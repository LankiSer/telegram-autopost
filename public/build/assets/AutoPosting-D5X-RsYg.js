import{x as f,f as a,o as l,a as b,u as r,g as _,w as c,b as t,h as d,t as i,d as k,j as u,v,m,e as p,S as h,F as w}from"./app-CgJ5-Tea.js";import{_ as V}from"./AppLayout-DXdb2ofa.js";const C={class:"flex justify-between items-center"},U={class:"text-xl font-semibold text-gray-800 dark:text-gray-200 leading-tight"},j={class:"py-6"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},M={class:"mb-8 pb-6 border-b border-gray-200 dark:border-gray-700"},N={class:"flex items-center mb-4"},S={class:"w-12 h-12 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-lg font-bold mr-4"},q={class:"text-lg font-semibold text-gray-900 dark:text-white"},z={key:0,class:"text-sm text-blue-600 dark:text-blue-400"},D={key:0,class:"text-gray-600 dark:text-gray-300"},F={class:"flex items-center"},T={key:0,class:"space-y-6 mt-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg"},E={key:0,class:"text-red-500 text-sm mt-1"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},I={key:0,class:"text-red-500 text-sm mt-1"},O={key:0,class:"text-red-500 text-sm mt-1"},P={key:0,class:"text-red-500 text-sm mt-1"},$={class:"flex items-center space-x-4 pt-4"},G=["disabled"],J={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},Q={__name:"AutoPosting",props:{channel:Object},setup(o){const g=o,s=f({auto_posting_enabled:g.channel.auto_posting_enabled||!1,posting_interval:g.channel.posting_interval||24,posting_time_start:g.channel.posting_time_start||"09:00",posting_time_end:g.channel.posting_time_end||"21:00",content_prompt:g.channel.content_prompt||""}),x=()=>{s.post(route("channels.auto-posting.update",g.channel.id))};return(y,e)=>(l(),a(w,null,[b(r(_),{title:"Настройки автопостинга"}),b(V,null,{header:c(()=>[t("div",C,[t("h2",U," Настройки автопостинга: "+i(o.channel.name),1)])]),default:c(()=>[t("div",j,[t("div",A,[t("div",B,[t("div",M,[t("div",N,[t("div",S,i(o.channel.name.charAt(0).toUpperCase()),1),t("div",null,[t("h3",q,i(o.channel.name),1),o.channel.telegram_username?(l(),a("p",z," @"+i(o.channel.telegram_username),1)):d("",!0)])]),o.channel.description?(l(),a("p",D,i(o.channel.description),1)):d("",!0)]),t("form",{onSubmit:k(x,["prevent"]),class:"space-y-6"},[t("div",null,[t("div",F,[u(t("input",{type:"checkbox",id:"auto_posting_enabled","onUpdate:modelValue":e[0]||(e[0]=n=>r(s).auto_posting_enabled=n),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded"},null,512),[[v,r(s).auto_posting_enabled]]),e[5]||(e[5]=t("label",{for:"auto_posting_enabled",class:"ml-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Включить автопостинг ",-1))]),e[6]||(e[6]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Если включено, система будет автоматически публиковать контент в этот канал с указанным интервалом ",-1))]),r(s).auto_posting_enabled?(l(),a("div",T,[t("div",null,[e[7]||(e[7]=t("label",{for:"posting_interval",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Интервал публикации (в часах) ",-1)),u(t("input",{type:"number",id:"posting_interval","onUpdate:modelValue":e[1]||(e[1]=n=>r(s).posting_interval=n),min:"1",max:"168",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[m,r(s).posting_interval]]),e[8]||(e[8]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Определяет, как часто будут публиковаться новые посты (от 1 часа до 7 дней) ",-1)),r(s).errors.posting_interval?(l(),a("div",E,i(r(s).errors.posting_interval),1)):d("",!0)]),t("div",H,[t("div",null,[e[9]||(e[9]=t("label",{for:"posting_time_start",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Время начала публикаций ",-1)),u(t("input",{type:"time",id:"posting_time_start","onUpdate:modelValue":e[2]||(e[2]=n=>r(s).posting_time_start=n),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[m,r(s).posting_time_start]]),r(s).errors.posting_time_start?(l(),a("div",I,i(r(s).errors.posting_time_start),1)):d("",!0)]),t("div",null,[e[10]||(e[10]=t("label",{for:"posting_time_end",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Время окончания публикаций ",-1)),u(t("input",{type:"time",id:"posting_time_end","onUpdate:modelValue":e[3]||(e[3]=n=>r(s).posting_time_end=n),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[m,r(s).posting_time_end]]),e[11]||(e[11]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Публикации будут происходить только в указанный временной интервал ",-1)),r(s).errors.posting_time_end?(l(),a("div",O,i(r(s).errors.posting_time_end),1)):d("",!0)])])])):d("",!0),t("div",null,[e[12]||(e[12]=t("label",{for:"content_prompt",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Промпт для генерации контента ",-1)),u(t("textarea",{id:"content_prompt","onUpdate:modelValue":e[4]||(e[4]=n=>r(s).content_prompt=n),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Опишите, какой контент должен генерироваться для этого канала..."},null,512),[[m,r(s).content_prompt]]),e[13]||(e[13]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},' Используйте этот промпт для более точной настройки генерации контента. Например: "Новости о технологиях, фокус на AI и блокчейн" ',-1)),r(s).errors.content_prompt?(l(),a("div",P,i(r(s).errors.content_prompt),1)):d("",!0)]),t("div",$,[t("button",{type:"submit",class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150",disabled:r(s).processing},[r(s).processing?(l(),a("svg",J,e[14]||(e[14]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):d("",!0),e[15]||(e[15]=p(" Сохранить настройки "))],8,G),b(r(h),{href:y.route("channels.show",o.channel.id),class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-500 active:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:c(()=>e[16]||(e[16]=[p(" Отмена ")])),_:1},8,["href"])])],32)])])])]),_:1})],64))}};export{Q as default};
