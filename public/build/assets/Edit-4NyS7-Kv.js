import{x as V,c as n,a as o,b as u,u as t,g as C,w as g,d as s,h as B,q as b,j as m,v as p,t as f,F as k,e as j,f as N,i as c,S as y,n as S}from"./app-BvKMgCPM.js";import{_ as U}from"./AppLayout-CPl3rLGK.js";import{P as D}from"./PrimaryButton-CDDBc4yL.js";import{_ as q}from"./DatasetChannel-Cs_ZVT2Z.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"flex justify-between items-center"},E={key:0,class:"flex space-x-2"},F={class:"py-6"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},T={class:"p-6 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"},$={class:"mb-6"},z={class:"mb-4"},I={key:0,class:"text-red-500 text-sm mt-1"},L={class:"mb-4"},O={key:0,class:"text-red-500 text-sm mt-1"},G={class:"mb-4"},H={key:0,class:"text-red-500 text-sm mt-1"},J={class:"mb-6"},K={key:0,class:"bg-gray-50 p-4 rounded-md"},Q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4"},R={key:1,class:"bg-gray-50 p-4 rounded-md"},W={class:"text-gray-500"},X={key:2,class:"text-red-500 text-sm mt-1"},Y={class:"flex items-center justify-end mt-6"},Z={key:0},ee={key:1},ie={__name:"Edit",props:{group:Object,channels:Array,selectedChannels:Array},setup(d){var x,h,v;const a=d,r=V({name:((x=a.group)==null?void 0:x.name)||"",description:((h=a.group)==null?void 0:h.description)||"",category:((v=a.group)==null?void 0:v.category)||"",channels:a.selectedChannels||[]});function w(){var l;if(!((l=a.group)!=null&&l.id)){console.error("Channel group ID is missing");return}r.put(route("channel-groups.update",a.group.id))}return(l,e)=>(o(),n(k,null,[u(t(C),{title:"Редактирование группы каналов"}),u(U,null,{header:g(()=>[s("div",A,[e[6]||(e[6]=s("h2",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200 leading-tight"}," Редактирование группы каналов ",-1)),d.group&&d.group.id?(o(),n("div",E,[u(t(y),{href:l.route("channel-groups.show",d.group.id),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:g(()=>e[4]||(e[4]=[c(" Просмотр ")])),_:1},8,["href"]),u(t(y),{href:l.route("channel-groups.index"),class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-500 active:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:g(()=>e[5]||(e[5]=[c(" Назад к списку ")])),_:1},8,["href"])])):m("",!0)])]),default:g(()=>[s("div",F,[s("div",M,[s("div",P,[s("div",T,[s("form",{onSubmit:B(w,["prevent"])},[s("div",$,[e[10]||(e[10]=s("h3",{class:"text-lg font-semibold mb-4"},"Основная информация",-1)),s("div",z,[e[7]||(e[7]=s("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Название группы",-1)),b(s("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=i=>t(r).name=i),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",required:""},null,512),[[p,t(r).name]]),t(r).errors.name?(o(),n("div",I,f(t(r).errors.name),1)):m("",!0)]),s("div",L,[e[8]||(e[8]=s("label",{for:"category",class:"block text-sm font-medium text-gray-700"},"Категория (опционально)",-1)),b(s("input",{type:"text",id:"category","onUpdate:modelValue":e[1]||(e[1]=i=>t(r).category=i),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"},null,512),[[p,t(r).category]]),t(r).errors.category?(o(),n("div",O,f(t(r).errors.category),1)):m("",!0)]),s("div",G,[e[9]||(e[9]=s("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Описание (опционально)",-1)),b(s("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=i=>t(r).description=i),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"},null,512),[[p,t(r).description]]),t(r).errors.description?(o(),n("div",H,f(t(r).errors.description),1)):m("",!0)])]),s("div",J,[e[15]||(e[15]=s("h3",{class:"text-lg font-semibold mb-4"},"Выбор каналов",-1)),d.channels.length>0?(o(),n("div",K,[e[11]||(e[11]=s("div",{class:"mb-2 text-sm text-gray-600"},"Выберите каналы, которые хотите добавить в группу:",-1)),s("div",Q,[(o(!0),n(k,null,j(d.channels,i=>(o(),N(q,{key:i.id,channel:i,modelValue:t(r).channels,"onUpdate:modelValue":e[3]||(e[3]=_=>t(r).channels=_)},null,8,["channel","modelValue"]))),128))])])):(o(),n("div",R,[s("p",W,[e[13]||(e[13]=c("У вас пока нет каналов. ")),u(t(y),{href:l.route("channels.create"),class:"text-blue-600 hover:underline"},{default:g(()=>e[12]||(e[12]=[c(" Создайте канал ")])),_:1},8,["href"]),e[14]||(e[14]=c(" перед добавлением в группу. "))])])),t(r).errors.channels?(o(),n("div",X,f(t(r).errors.channels),1)):m("",!0)]),s("div",Y,[u(D,{disabled:t(r).processing,class:S([{"opacity-25":t(r).processing},"ml-4"])},{default:g(()=>[t(r).processing?(o(),n("span",Z,"Сохранение...")):(o(),n("span",ee,"Сохранить изменения"))]),_:1},8,["disabled","class"])])],32)])])])])]),_:1})],64))}};export{ie as default};
