import{f,o as y,r as b,k as m,s as E,y as S,z as B,i as D,h as v,a as r,w as c,j as h,b as a,A as k,T as _,n as C,x as V,e as x,D as U,u,E as T}from"./app-CgJ5-Tea.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as z,a as M,b as W}from"./TextInput-BX073vWY.js";const j={},F={class:"inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700"};function I(o,n){return y(),f("button",F,[b(o.$slots,"default")])}const $=N(j,[["render",I]]),K={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(o,{emit:n}){const s=o,t=n,p=m(null),l=m(s.show);E(()=>s.show,()=>{s.show?(document.body.style.overflow="hidden",l.value=!0):(document.body.style.overflow="",setTimeout(()=>{l.value=!1},200))});const d=()=>{s.closeable&&t("close")},g=i=>{i.key==="Escape"&&(i.preventDefault(),s.show&&d())};S(()=>{document.addEventListener("keydown",g)}),B(()=>{document.removeEventListener("keydown",g),document.body.style.overflow=""});const e=D(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[s.maxWidth]);return(i,w)=>o.show?(y(),f("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto px-4 py-6 sm:px-0",ref_key:"modalRef",ref:p},[r(_,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:c(()=>[h(a("div",{class:"fixed inset-0 transform transition-all",onClick:d},w[0]||(w[0]=[a("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1)]),512),[[k,o.show]])]),_:1}),r(_,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:c(()=>[h(a("div",{class:C(["mb-6 transform overflow-hidden rounded-lg bg-white shadow-xl transition-all sm:mx-auto sm:w-full",e.value])},[l.value?b(i.$slots,"default",{key:0}):v("",!0)],2),[[k,o.show]])]),_:3})],512)):v("",!0)}},L=["type"],R={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(o){return(n,s)=>(y(),f("button",{type:o.type,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25"},[b(n.$slots,"default")],8,L))}},A={class:"space-y-6"},O={class:"p-6 bg-white dark:bg-gray-800"},q={class:"mt-6"},G={class:"mt-6 flex justify-end"},Q={__name:"DeleteUserForm",setup(o){const n=m(!1),s=m(null),t=V({password:""}),p=()=>{n.value=!0,T(()=>s.value.focus())},l=()=>{t.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>d(),onError:()=>s.value.focus(),onFinish:()=>t.reset()})},d=()=>{n.value=!1,t.clearErrors(),t.reset()};return(g,e)=>(y(),f("section",A,[e[6]||(e[6]=a("header",null,[a("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Удаление аккаунта "),a("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," После удаления вашего аккаунта все его ресурсы и данные будут удалены безвозвратно. Перед удалением загрузите данные или информацию, которую хотите сохранить. ")],-1)),r($,{onClick:p,class:"bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-600"},{default:c(()=>e[1]||(e[1]=[x("Удалить аккаунт")])),_:1}),r(K,{show:n.value,onClose:d},{default:c(()=>[a("div",O,[e[4]||(e[4]=a("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Вы уверены, что хотите удалить свой аккаунт? ",-1)),e[5]||(e[5]=a("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," После удаления вашего аккаунта все его ресурсы и данные будут удалены безвозвратно. Пожалуйста, введите свой пароль для подтверждения того, что вы хотите навсегда удалить свой аккаунт. ",-1)),a("div",q,[r(z,{for:"password",value:"Пароль",class:"sr-only"}),r(M,{id:"password",ref_key:"passwordInput",ref:s,modelValue:u(t).password,"onUpdate:modelValue":e[0]||(e[0]=i=>u(t).password=i),type:"password",class:"mt-1 block w-3/4 border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm",placeholder:"Пароль",onKeyup:U(l,["enter"])},null,8,["modelValue"]),r(W,{message:u(t).errors.password,class:"mt-2"},null,8,["message"])]),a("div",G,[r(R,{onClick:d,class:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"},{default:c(()=>e[2]||(e[2]=[x(" Отмена ")])),_:1}),r($,{class:C(["ms-3 bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-600",{"opacity-25":u(t).processing}]),disabled:u(t).processing,onClick:l},{default:c(()=>e[3]||(e[3]=[x(" Удалить аккаунт ")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]))}};export{Q as default};
