import{r as w,x as _,E as V,o as k,f as x,a as i,w as u,d as s,h as $,u as o,c as g,j as b,b as r,S as h,i as p,F as B,e as C,t as c}from"./app-OAsktpdo.js";import{_ as N}from"./AuthenticatedLayout-CFrXmQoc.js";import{_ as v,a as S,b as f}from"./TextInput-C1SExuhJ.js";import{P as j}from"./PrimaryButton-CC4AoLS_.js";import{_ as E}from"./TextArea-B43fssXi.js";import{_ as M}from"./DatasetChannel-CIKaTa9E.js";import"./ApplicationLogo-B4xQWaU7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"font-semibold text-xl text-gray-800 leading-tight"},z={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},P={class:"p-6 bg-white border-b border-gray-200"},q={class:"mb-6"},D={class:"mb-6"},H={class:"mb-6"},L={key:0,class:"p-4 bg-gray-50 rounded border border-gray-200 text-center"},O={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},T={key:0,class:"mb-6 p-4 bg-gray-50 rounded-lg"},G={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center"},I={class:"p-3 bg-white rounded-lg shadow-sm"},J={class:"text-2xl font-semibold text-blue-600"},K={class:"p-3 bg-white rounded-lg shadow-sm"},Q={class:"text-2xl font-semibold text-green-600"},R={class:"p-3 bg-white rounded-lg shadow-sm"},W={class:"text-2xl font-semibold text-purple-600"},X={class:"flex items-center justify-between pt-4 border-t border-gray-200"},Y={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ne={__name:"Edit",props:{group:Object,channels:Array},setup(l){const d=l,m=w([]),t=_({name:d.group.name,description:d.group.description||"",channels:[]});return V(m,a=>{t.channels=a}),k(()=>{d.group&&d.group.channels&&(m.value=d.group.channels.map(a=>a.id),t.channels=m.value)}),(a,e)=>(i(),x(N,null,{header:u(()=>[s("h2",U,c(a.__("Редактирование группы каналов")),1)]),default:u(()=>[s("div",z,[s("div",A,[s("div",F,[s("div",P,[s("form",{onSubmit:e[3]||(e[3]=$(n=>o(t).put(a.route("groups.update",l.group.id)),["prevent"]))},[s("div",q,[r(v,{for:"name",value:"Название группы"}),r(S,{id:"name",modelValue:o(t).name,"onUpdate:modelValue":e[0]||(e[0]=n=>o(t).name=n),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),r(f,{message:o(t).errors.name,class:"mt-2"},null,8,["message"])]),s("div",D,[r(v,{for:"description",value:"Описание (необязательно)"}),r(E,{id:"description",modelValue:o(t).description,"onUpdate:modelValue":e[1]||(e[1]=n=>o(t).description=n),class:"mt-1 block w-full",rows:"3"},null,8,["modelValue"]),r(f,{message:o(t).errors.description,class:"mt-2"},null,8,["message"]),e[4]||(e[4]=s("p",{class:"mt-1 text-sm text-gray-500"}," Краткое описание для чего предназначена эта группа каналов. ",-1))]),s("div",H,[e[7]||(e[7]=s("h3",{class:"font-medium text-gray-700 mb-2"},"Выберите каналы для группы",-1)),e[8]||(e[8]=s("p",{class:"mb-3 text-sm text-gray-500"}," Выберите каналы, которые хотите включить в эту группу для кросс-продвижения контента. ",-1)),l.channels.length===0?(i(),g("div",L,[e[6]||(e[6]=s("p",{class:"text-gray-600"},"У вас пока нет добавленных каналов.",-1)),r(o(h),{href:a.route("channels.create"),class:"mt-2 inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"},{default:u(()=>e[5]||(e[5]=[p(" Добавить канал ")])),_:1},8,["href"])])):(i(),g("div",O,[(i(!0),g(B,null,C(l.channels,n=>(i(),x(M,{key:n.id,channel:n,modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=y=>m.value=y)},null,8,["channel","modelValue"]))),128))])),r(f,{message:o(t).errors.channels,class:"mt-2"},null,8,["message"])]),l.group.stats?(i(),g("div",T,[e[12]||(e[12]=s("h3",{class:"font-medium text-gray-700 mb-2"},"Статистика группы",-1)),s("div",G,[s("div",I,[s("div",J,c(l.group.stats.posts_count),1),e[9]||(e[9]=s("div",{class:"text-sm text-gray-500"},"Публикаций",-1))]),s("div",K,[s("div",Q,c(l.group.stats.active_channels),1),e[10]||(e[10]=s("div",{class:"text-sm text-gray-500"},"Активных каналов",-1))]),s("div",R,[s("div",W,c(l.group.stats.total_reach),1),e[11]||(e[11]=s("div",{class:"text-sm text-gray-500"},"Суммарный охват",-1))])])])):b("",!0),s("div",X,[r(o(h),{href:a.route("groups.index"),class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200 active:text-gray-800 active:bg-gray-50 disabled:opacity-25 transition"},{default:u(()=>e[13]||(e[13]=[p(" Назад ")])),_:1},8,["href"]),r(j,{disabled:o(t).processing},{default:u(()=>[o(t).processing?(i(),g("svg",Y,e[14]||(e[14]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):b("",!0),e[15]||(e[15]=p(" Сохранить изменения "))]),_:1},8,["disabled"])])],32)])])])])]),_:1}))}};export{ne as default};
