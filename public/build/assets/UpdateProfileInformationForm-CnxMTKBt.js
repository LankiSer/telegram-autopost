import{z as x,x as c,c as u,a as g,d as s,j as i,b as r,u as t,q as p,v,i as b,w as y,S as V,H as w,T as U,h as T}from"./app-OAsktpdo.js";import{_ as d,a as n,b as m}from"./TextInput-C1SExuhJ.js";import{P as h}from"./PrimaryButton-CC4AoLS_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={key:0,class:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4"},B={class:"mb-4"},S={class:"mb-4"},A={class:"mb-4"},C={class:"mb-4"},E={class:"mb-4"},I={class:"mb-4"},N={key:1},$={class:"mt-2 text-sm text-gray-800 dark:text-gray-300"},q={class:"mt-2 text-sm font-medium text-green-600 dark:text-green-400"},F={class:"flex items-center gap-4"},G={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},O={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(_){const o=x().props.auth.user,a=c({name:o.name,email:o.email,openai_api_key:o.openai_api_key||"",telegram_bot_token:o.telegram_bot_token||"",telegram_bot_name:o.telegram_bot_name||"",telegram_bot_username:o.telegram_bot_username||"",telegram_bot_description:o.telegram_bot_description||"",telegram_bot_link:o.telegram_bot_link||""}),f=o.is_admin||!1;return(k,e)=>(g(),u("section",null,[e[18]||(e[18]=s("header",null,[s("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Информация профиля "),s("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Обновите информацию профиля и адрес электронной почты вашей учетной записи. ")],-1)),s("form",{onSubmit:e[8]||(e[8]=T(l=>t(a).patch(k.route("profile.update")),["prevent"])),class:"mt-6 space-y-6"},[s("div",null,[r(d,{for:"name",value:"Имя",class:"text-gray-700 dark:text-gray-300"}),r(n,{id:"name",type:"text",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm",modelValue:t(a).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(a).name=l),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),r(m,{class:"mt-2",message:t(a).errors.name},null,8,["message"])]),s("div",null,[r(d,{for:"email",value:"Email",class:"text-gray-700 dark:text-gray-300"}),r(n,{id:"email",type:"email",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm",modelValue:t(a).email,"onUpdate:modelValue":e[1]||(e[1]=l=>t(a).email=l),required:"",autocomplete:"username"},null,8,["modelValue"]),r(m,{class:"mt-2",message:t(a).errors.email},null,8,["message"])]),t(f)?(g(),u("div",P,[e[13]||(e[13]=s("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"}," Настройки интеграций ",-1)),s("div",B,[r(d,{for:"openai_api_key",value:"OpenAI API Key (ChatGPT)",class:"text-gray-700 dark:text-gray-300"}),r(n,{id:"openai_api_key",type:"password",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm",modelValue:t(a).openai_api_key,"onUpdate:modelValue":e[2]||(e[2]=l=>t(a).openai_api_key=l),placeholder:"sk-..."},null,8,["modelValue"]),e[9]||(e[9]=s("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Ключ API для использования ChatGPT в автопостинге ",-1)),r(m,{class:"mt-1",message:t(a).errors.openai_api_key},null,8,["message"])]),e[14]||(e[14]=s("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"}," Настройки Telegram-бота ",-1)),s("div",S,[r(d,{for:"telegram_bot_token",value:"Токен Telegram-бота",class:"text-gray-700 dark:text-gray-300"}),r(n,{id:"telegram_bot_token",type:"password",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm",modelValue:t(a).telegram_bot_token,"onUpdate:modelValue":e[3]||(e[3]=l=>t(a).telegram_bot_token=l),placeholder:"1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ..."},null,8,["modelValue"]),e[10]||(e[10]=s("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Токен бота, полученный у @BotFather ",-1)),r(m,{class:"mt-1",message:t(a).errors.telegram_bot_token},null,8,["message"])]),s("div",A,[r(d,{for:"telegram_bot_name",value:"Имя бота",class:"text-gray-700 dark:text-gray-300"}),r(n,{id:"telegram_bot_name",type:"text",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm",modelValue:t(a).telegram_bot_name,"onUpdate:modelValue":e[4]||(e[4]=l=>t(a).telegram_bot_name=l)},null,8,["modelValue"]),r(m,{class:"mt-1",message:t(a).errors.telegram_bot_name},null,8,["message"])]),s("div",C,[r(d,{for:"telegram_bot_username",value:"Username бота",class:"text-gray-700 dark:text-gray-300"}),r(n,{id:"telegram_bot_username",type:"text",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm",modelValue:t(a).telegram_bot_username,"onUpdate:modelValue":e[5]||(e[5]=l=>t(a).telegram_bot_username=l),placeholder:"your_bot_username"},null,8,["modelValue"]),e[11]||(e[11]=s("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Имя пользователя бота без символа '@' ",-1)),r(m,{class:"mt-1",message:t(a).errors.telegram_bot_username},null,8,["message"])]),s("div",E,[r(d,{for:"telegram_bot_description",value:"Описание бота",class:"text-gray-700 dark:text-gray-300"}),p(s("textarea",{id:"telegram_bot_description",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm","onUpdate:modelValue":e[6]||(e[6]=l=>t(a).telegram_bot_description=l),rows:"3"},null,512),[[v,t(a).telegram_bot_description]]),r(m,{class:"mt-1",message:t(a).errors.telegram_bot_description},null,8,["message"])]),s("div",I,[r(d,{for:"telegram_bot_link",value:"Ссылка на бота",class:"text-gray-700 dark:text-gray-300"}),r(n,{id:"telegram_bot_link",type:"url",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm",modelValue:t(a).telegram_bot_link,"onUpdate:modelValue":e[7]||(e[7]=l=>t(a).telegram_bot_link=l),placeholder:"https://t.me/your_bot_username"},null,8,["modelValue"]),e[12]||(e[12]=s("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Полная ссылка на бота в Telegram ",-1)),r(m,{class:"mt-1",message:t(a).errors.telegram_bot_link},null,8,["message"])])])):i("",!0),_.mustVerifyEmail&&t(o).email_verified_at===null?(g(),u("div",N,[s("p",$,[e[16]||(e[16]=b(" Ваш адрес электронной почты не подтвержден. ")),r(t(V),{href:k.route("verification.send"),method:"post",as:"button",class:"rounded-md text-sm text-gray-600 dark:text-gray-400 underline hover:text-gray-900 dark:hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"},{default:y(()=>e[15]||(e[15]=[b(" Нажмите здесь, чтобы повторно отправить письмо для подтверждения. ")])),_:1},8,["href"])]),p(s("div",q," Новая ссылка для подтверждения была отправлена на ваш адрес электронной почты. ",512),[[w,_.status==="verification-link-sent"]])])):i("",!0),s("div",F,[r(h,{disabled:t(a).processing,class:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600"},{default:y(()=>e[17]||(e[17]=[b("Сохранить")])),_:1},8,["disabled"]),r(U,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:y(()=>[t(a).recentlySuccessful?(g(),u("p",G," Сохранено. ")):i("",!0)]),_:1})])],32)]))}};export{O as default};
