import{x as S,i as V,f as a,o as d,a as c,u as s,g as M,w as g,b as t,d as D,h as n,j as u,F as m,l as C,t as i,p as $,m as p,B as y,S as B,e as x}from"./app-CgJ5-Tea.js";import{_ as U}from"./AppLayout-DXdb2ofa.js";const N={class:"py-6"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6"},q=["value"],F={key:0,class:"text-red-500 text-sm mt-1"},z={key:0,class:"text-red-500 text-sm mt-1"},A={class:"mt-2 space-y-4"},H={class:"flex items-center"},L={class:"flex items-center"},E={key:0,class:"text-red-500 text-sm mt-1"},R={key:0,class:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg"},Y=["min"],G={key:0,class:"text-red-500 text-sm mt-1"},I={class:"flex items-center justify-end space-x-4 pt-4"},J=["disabled"],K={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},Q={__name:"Create",props:{channels:Array},setup(f){const r=S({channel_id:"",content:"",publish_type:"now",scheduled_at:b(new Date(Date.now()+36e5))}),h=V(()=>{const l=new Date;return l.setMinutes(l.getMinutes()+5),b(l)});function b(l){const e=l.getFullYear(),o=String(l.getMonth()+1).padStart(2,"0"),_=String(l.getDate()).padStart(2,"0"),w=String(l.getHours()).padStart(2,"0"),v=String(l.getMinutes()).padStart(2,"0");return`${e}-${o}-${_}T${w}:${v}`}function k(){r.post(route("posts.store"))}return(l,e)=>(d(),a(m,null,[c(s(M),{title:"Создать пост"}),c(U,null,{header:g(()=>e[5]||(e[5]=[t("div",{class:"flex justify-between items-center"},[t("h2",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200 leading-tight"}," Создать пост ")],-1)])),default:g(()=>[t("div",N,[t("div",T,[t("div",j,[t("form",{onSubmit:D(k,["prevent"]),class:"space-y-6"},[t("div",null,[e[7]||(e[7]=t("label",{for:"channel_id",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Канал",-1)),u(t("select",{id:"channel_id","onUpdate:modelValue":e[0]||(e[0]=o=>s(r).channel_id=o),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},[e[6]||(e[6]=t("option",{disabled:"",value:""},"Выберите канал",-1)),(d(!0),a(m,null,C(f.channels,o=>(d(),a("option",{key:o.id,value:o.id},i(o.name),9,q))),128))],512),[[$,s(r).channel_id]]),s(r).errors.channel_id?(d(),a("div",F,i(s(r).errors.channel_id),1)):n("",!0)]),t("div",null,[e[8]||(e[8]=t("label",{for:"content",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Текст сообщения",-1)),u(t("textarea",{id:"content","onUpdate:modelValue":e[1]||(e[1]=o=>s(r).content=o),rows:"8",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Введите текст вашего сообщения...",required:""},null,512),[[p,s(r).content]]),s(r).errors.content?(d(),a("div",z,i(s(r).errors.content),1)):n("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Тип публикации",-1)),t("div",A,[t("div",H,[u(t("input",{id:"publish_now",type:"radio",value:"now","onUpdate:modelValue":e[2]||(e[2]=o=>s(r).publish_type=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-700 dark:bg-gray-900"},null,512),[[y,s(r).publish_type]]),e[9]||(e[9]=t("label",{for:"publish_now",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"}," Опубликовать сейчас ",-1))]),t("div",L,[u(t("input",{id:"publish_scheduled",type:"radio",value:"scheduled","onUpdate:modelValue":e[3]||(e[3]=o=>s(r).publish_type=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-700 dark:bg-gray-900"},null,512),[[y,s(r).publish_type]]),e[10]||(e[10]=t("label",{for:"publish_scheduled",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"}," Запланировать на определенное время ",-1))])]),s(r).errors.publish_type?(d(),a("div",E,i(s(r).errors.publish_type),1)):n("",!0)]),s(r).publish_type==="scheduled"?(d(),a("div",R,[e[12]||(e[12]=t("label",{for:"scheduled_at",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Дата и время публикации",-1)),u(t("input",{id:"scheduled_at",type:"datetime-local","onUpdate:modelValue":e[4]||(e[4]=o=>s(r).scheduled_at=o),class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",min:h.value,required:""},null,8,Y),[[p,s(r).scheduled_at]]),s(r).errors.scheduled_at?(d(),a("div",G,i(s(r).errors.scheduled_at),1)):n("",!0)])):n("",!0),t("div",I,[c(s(B),{href:l.route("posts.index"),class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-500 active:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:g(()=>e[13]||(e[13]=[x(" Отмена ")])),_:1},8,["href"]),t("button",{type:"submit",class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150",disabled:s(r).processing},[s(r).processing?(d(),a("svg",K,e[14]||(e[14]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):n("",!0),x(" "+i(s(r).publish_type==="now"?"Опубликовать":"Запланировать"),1)],8,J)])],32)])])])]),_:1})],64))}};export{Q as default};
