import{m as f,p as a,f as b,a as r,w as i,d as e,t as n,h,q as d,v as m,c as l,j as y,F as _,e as v,s as x,b as k,i as w,S as C,x as L}from"./app-BvKMgCPM.js";import{_ as V}from"./AppLayout-CPl3rLGK.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F=f({components:{AppLayout:V,Link:C},props:{group:Object,channels:Array},setup(o){const s=L({original_content:"",advertisement_link:"",selected_channels:[]});return{form:s,submitForm:()=>{if(!s.selected_channels.length){alert("Выберите хотя бы один канал для рассылки");return}s.post(route("channel-groups.advertising.store",o.group.id))}}}}),A={class:"font-semibold text-xl text-gray-800 leading-tight"},B={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6 bg-white border-b border-gray-200"},q={class:"mb-6"},M={class:"text-gray-600 mb-1"},U={class:"text-gray-600 mb-1"},D={class:"text-gray-600"},T={class:"mb-6"},E={class:"mb-4"},G={class:"mb-4"},O={class:"mb-6"},z={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},H={class:"flex items-start"},I=["id","value"],J=["for"],K={class:"block text-sm font-medium text-gray-700"},P={class:"block text-xs text-gray-500"},Q={key:0,class:"text-gray-500 italic"},R={class:"flex justify-between"},W=["disabled"];function X(o,s,g,Y,Z,ee){const u=a("Link"),p=a("AppLayout");return r(),b(p,{title:"Создание рекламной рассылки"},{header:i(()=>[e("h2",A," Создание рекламной рассылки для группы «"+n(o.group.name)+"» ",1)]),default:i(()=>[e("div",B,[e("div",N,[e("div",S,[e("div",j,[e("div",q,[s[4]||(s[4]=e("h3",{class:"text-lg font-semibold mb-2"},"Информация о группе",-1)),e("p",M,"Название: "+n(o.group.name),1),e("p",U,"Описание: "+n(o.group.description||"Не указано"),1),e("p",D,"Количество каналов: "+n(o.channels.length),1)]),e("form",{onSubmit:s[3]||(s[3]=h((...t)=>o.submitForm&&o.submitForm(...t),["prevent"]))},[e("div",T,[s[9]||(s[9]=e("h3",{class:"text-lg font-semibold mb-2"},"Текст рекламного объявления",-1)),e("div",E,[s[5]||(s[5]=e("label",{for:"original_content",class:"block text-sm font-medium text-gray-700 mb-1"}," Исходный текст рекламы ",-1)),d(e("textarea",{id:"original_content","onUpdate:modelValue":s[0]||(s[0]=t=>o.form.original_content=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",rows:"6",placeholder:"Введите исходный текст рекламного объявления",required:""},null,512),[[m,o.form.original_content]]),s[6]||(s[6]=e("p",{class:"text-sm text-gray-500 mt-1"}," Этот текст будет улучшен с помощью GigaChat и разослан по выбранным каналам. ",-1))]),e("div",G,[s[7]||(s[7]=e("label",{for:"advertisement_link",class:"block text-sm font-medium text-gray-700 mb-1"}," Ссылка для рекламы ",-1)),d(e("input",{id:"advertisement_link",type:"url","onUpdate:modelValue":s[1]||(s[1]=t=>o.form.advertisement_link=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"https://example.com",required:""},null,512),[[m,o.form.advertisement_link]]),s[8]||(s[8]=e("p",{class:"text-sm text-gray-500 mt-1"}," Эта ссылка будет добавлена в конец рекламного поста. ",-1))])]),e("div",O,[s[10]||(s[10]=e("h3",{class:"text-lg font-semibold mb-2"},"Выберите каналы для рассылки",-1)),e("div",z,[(r(!0),l(_,null,v(o.channels,t=>(r(),l("div",{key:t.id,class:"p-3 border border-gray-200 rounded-md"},[e("div",H,[d(e("input",{type:"checkbox",id:`channel-${t.id}`,"onUpdate:modelValue":s[2]||(s[2]=c=>o.form.selected_channels=c),value:t.id,class:"h-4 w-4 mt-1 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,8,I),[[x,o.form.selected_channels]]),e("label",{for:`channel-${t.id}`,class:"ml-3"},[e("span",K,n(t.name),1),e("span",P,n(t.telegram_username||"Нет имени пользователя"),1)],8,J)])]))),128))]),o.channels.length===0?(r(),l("div",Q," В этой группе нет каналов. ")):y("",!0)]),e("div",R,[k(u,{href:o.route("channel-groups.show",o.group.id),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500"},{default:i(()=>s[11]||(s[11]=[w(" Отмена ")])),_:1},8,["href"]),e("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:o.form.processing||!o.form.selected_channels.length}," Создать рекламные посты ",8,W)])],32)])])])])]),_:1})}const ne=$(F,[["render",X]]);export{ne as default};
