import{z as y,c as o,a as n,b as a,u as d,g as _,w as i,d as e,F as c,e as C,n as f,t as l,S as u,i as g,j as x,W as p}from"./app-OAsktpdo.js";import{_ as M}from"./AppLayout-CrSf5v8z.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"flex justify-between items-center"},z={class:"flex space-x-2"},H={class:"py-6"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},D={class:"p-4 md:p-6"},L={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},N={class:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-between items-center"},S={class:"flex items-center space-x-3"},I={class:"text-lg font-bold"},T={class:"text-lg font-semibold text-gray-900 dark:text-white"},U={class:"p-4"},F={key:0,class:"text-gray-600 dark:text-gray-300 mb-3 text-sm"},$={key:1,class:"text-gray-500 dark:text-gray-400 mb-3 text-sm italic"},R={key:2,class:"space-y-2"},W={class:"flex items-start"},E={class:"text-sm text-gray-600 dark:text-gray-400"},O=["href"],P={key:1,class:"text-gray-500 dark:text-gray-400 italic"},q={class:"flex items-start"},G={class:"flex items-center"},J={class:"text-sm"},K={key:0,class:"text-green-600 dark:text-green-400"},Q={key:1,class:"text-red-600 dark:text-red-400"},X={key:0,class:"ml-2 flex space-x-1"},Y=["action"],Z=["value"],ee={key:0,class:"flex items-start"},te={class:"text-sm text-gray-600 dark:text-gray-400"},re={class:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex flex-wrap justify-between items-center"},se={class:"mb-2 sm:mb-0"},oe={class:"text-xs text-gray-500 dark:text-gray-400"},ne={class:"flex flex-wrap gap-2"},ae=["onClick"],de={key:1,class:"text-center py-10"},ie={class:"mt-6"},le={__name:"Index",props:{channels:{type:Array,default:()=>[]}},setup(m){const k=y().props.csrf;function h(s){confirm("Вы уверены, что хотите удалить этот канал?")&&p.delete(route("channels.destroy",s))}function v(s){return s?new Date(s).toLocaleDateString("ru-RU"):""}function b(s,t){return s?s.length>t?s.substring(0,t)+"...":s:""}function w(){p.get(route("channels.update-all-status"))}return(s,t)=>(n(),o(c,null,[a(d(_),{title:"Мои каналы"}),a(M,null,{header:i(()=>[e("div",B,[t[2]||(t[2]=e("h2",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200 leading-tight"}," Мои каналы ",-1)),e("div",z,[e("button",{onClick:w,class:"inline-flex items-center px-4 py-2 bg-emerald-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-emerald-500 active:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},t[0]||(t[0]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),g(" Обновить статусы ")])),a(d(u),{href:s.route("channels.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:i(()=>t[1]||(t[1]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),g(" Создать канал ")])),_:1},8,["href"])])])]),default:i(()=>[e("div",H,[e("div",V,[e("div",A,[e("div",D,[m.channels.length?(n(),o("div",L,[(n(!0),o(c,null,C(m.channels,r=>(n(),o("div",{key:r.id,class:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition duration-150 bg-white dark:bg-gray-800"},[e("div",N,[e("div",S,[e("div",{class:f(["w-10 h-10 rounded-full flex items-center justify-center",r.type=="telegram"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"])},[e("span",I,l(r.name.charAt(0).toUpperCase()),1)],2),e("h3",T,[a(d(u),{href:s.route("channels.show",r.id),class:"hover:text-blue-600 dark:hover:text-blue-400"},{default:i(()=>[g(l(r.name),1)]),_:2},1032,["href"])])]),e("span",{class:f(["px-2 py-1 text-xs rounded-full",r.type=="telegram"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"])},l(r.type?r.type.charAt(0).toUpperCase()+r.type.slice(1):"Telegram"),3)]),e("div",U,[r.description?(n(),o("p",F,l(b(r.description,100)),1)):(n(),o("p",$," Нет описания ")),r.type=="telegram"||!r.type?(n(),o("div",R,[e("div",W,[t[3]||(t[3]=e("div",{class:"w-5 h-5 mr-2 flex-shrink-0 text-gray-400 dark:text-gray-500"},[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})])],-1)),e("div",null,[e("p",E,[r.telegram_username?(n(),o("a",{key:0,href:`https://t.me/${r.telegram_username}`,target:"_blank",class:"text-blue-600 dark:text-blue-400 hover:underline"}," @"+l(r.telegram_username),9,O)):(n(),o("span",P,"Не указано"))])])]),e("div",q,[t[6]||(t[6]=e("div",{class:"w-5 h-5 mr-2 flex-shrink-0 text-gray-400 dark:text-gray-500"},[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])],-1)),e("div",G,[e("p",J,[r.bot_added?(n(),o("span",K,"Подключен")):(n(),o("span",Q,"Не подключен"))]),r.bot_added?x("",!0):(n(),o("div",X,[a(d(u),{href:s.route("channels.connect-bot",r.id),class:"inline-flex items-center px-2 py-1 text-xs font-medium rounded text-white bg-blue-600 hover:bg-blue-700"},{default:i(()=>t[4]||(t[4]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),g(" Подключить ")])),_:2},1032,["href"]),e("form",{action:s.route("channels.force-connect",r.id),method:"POST",class:"inline"},[e("input",{type:"hidden",name:"_token",value:d(k)},null,8,Z),t[5]||(t[5]=e("button",{type:"submit",class:"inline-flex items-center px-2 py-1 text-xs font-medium rounded text-white bg-green-600 hover:bg-green-700"}," Принуд. ",-1))],8,Y)]))])]),r.members_count?(n(),o("div",ee,[t[7]||(t[7]=e("div",{class:"w-5 h-5 mr-2 flex-shrink-0 text-gray-400 dark:text-gray-500"},[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),e("p",te,l(new Intl.NumberFormat("ru-RU").format(r.members_count))+" подписчиков ",1)])):x("",!0)])):x("",!0)]),e("div",re,[e("div",se,[e("span",oe," Создан: "+l(v(r.created_at)),1)]),e("div",ne,[a(d(u),{href:s.route("channels.edit",r.id),class:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",title:"Редактировать"},{default:i(()=>t[8]||(t[8]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2},1032,["href"]),a(d(u),{href:s.route("posts.channel",r.id),class:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",title:"Посты канала"},{default:i(()=>t[9]||(t[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])),_:2},1032,["href"]),a(d(u),{href:s.route("channels.auto-posting.edit",r.id),class:"text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300",title:"Настройки автопостинга"},{default:i(()=>t[10]||(t[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])),_:2},1032,["href"]),e("button",{onClick:ue=>h(r.id),class:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",title:"Удалить"},t[11]||(t[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ae)])])]))),128))])):(n(),o("div",de,[t[13]||(t[13]=e("svg",{class:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t[14]||(t[14]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900 dark:text-gray-100"},"У вас пока нет каналов",-1)),t[15]||(t[15]=e("p",{class:"mt-1 text-gray-500 dark:text-gray-400"},"Создайте ваш первый канал, чтобы начать работу с автопостингом.",-1)),e("div",ie,[a(d(u),{href:s.route("channels.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-sm text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800"},{default:i(()=>t[12]||(t[12]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),g(" Создать канал ")])),_:1},8,["href"])])]))])])])])]),_:1})],64))}},ce=j(le,[["__scopeId","data-v-33a2dd43"]]);export{ce as default};
